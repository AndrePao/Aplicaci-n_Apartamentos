<!DOCTYPE html>  
<html>  
<head>  
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />  
<style type="text/css">  
  html { height: 100% }  
  body { height: 50%; margin: 40px; padding: 50px }  
  #map_canvas { height: 100% }  
</style>  
<script type="text/javascript"  
    src="http://maps.google.com/maps/api/js?sensor=false">  
</script>  
<script type="text/javascript">  
 var map;

function initialize() {
  var myLatlng = new google.maps.LatLng({{lat}},{{lng}});
  var mapOptions = {
    zoom: 10,
    center: myLatlng,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  }
  map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
  
  google.maps.event.addListener(map, 'click', function(event) {
	document.getElementById("Lat").value = event.latLng.lat();
	document.getElementById("Long").value = event.latLng.lng();
    placeMarker(event.latLng);
   
  });
}

function placeMarker(location) {
  var marker = new google.maps.Marker({
      position: location,
      map: map
  });
  map.setCenter(location);
}

</script>
</head>  
<body onload="initialize()">  
  <div id="map_canvas" style="width:100%; height:100%"></div> 
  <form name="input" action="{{url_for('Guardar')}}" method="post">		
	<input type=HIDDEN name= "La" id="Lat" >
	<input type=HIDDEN name= "Lo" id="Long" >
	<input type="submit" name= "Guardar ubicacion" value="Guardar ubicacion" ></h5>
</form>
 <a id="Coor" href="{{url_for('Guardar')}}" /></a>
</body>  
</html>  
